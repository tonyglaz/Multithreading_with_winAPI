1) Создаем карту статичных объектов static_map (случайно бросаем единицы на 7-12% от всех клеток)
2) Берем случайные коэффициенты для уравнения прямой, по которой будет лететь марсоход
3) На отдельной карте map последовательно "кидаем" положение марсохода вдоль этой прямой
4) Для каждого положения из пункта (3) на еще одну отдельную карту path расставляем единицы в те места,
где отличаются map и static_map, т.е. где точно пролетел марсоход (в данном месте может получиться так,
что некоторые положения марсохода не будут отмечены, т.к. он будет пролетать над статичными объектами, но это не страшно...)
5) Получили карту path точной траектории движения марсохода
6) Методом наименьших квадратов (можно загуглить, он несложный) ищем линейную траекторию, которая максимально близко проходит 
отмеченные точки, т.е. получаем высчитанные уравнения прямой
7) Ну и в конце остается лишь вывод первоначально сгенерированных коэффициентов и полученных.
Так как пункты 3 и 4 делаются последовательно, то есть не создаются сразу все положения марсохода, то имеем экономию по памяти
(используем постоянно лишь 2 больших карты). Везде, где возможно, было максимально распараллелено